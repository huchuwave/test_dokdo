<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>독도 영유권 용어 및 역사 사전</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #fdfbf7; /* Warm neutral background */
            color: #333;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            height: 300px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .card-hover {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        /* Vertical Timeline CSS */
        .timeline-line::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 20px;
            width: 2px;
            background-color: #e5e7eb;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals with Ocean Accents (Background: #fdfbf7, Primary: #0f4c81 (Deep Ocean), Secondary: #e0f2fe (Light Sky), Text: #333333) -->
    <!-- Application Structure Plan: 
         1. Dashboard Header: Title and Global Search.
         2. Overview Section: Chart.js Doughnut chart showing the distribution of terms (Law/Geography vs. Names vs. History).
         3. Navigation Tabs: To toggle between the three main data categories.
         4. Dynamic Content Area:
            - 'Law & Geography': Grid of detailed info cards.
            - 'Name Changes': Grouped comparison view (Korea vs Japan vs West) to show evolution.
            - 'History Timeline': A vertical timeline layout for chronological events/documents.
         5. Interaction: Clicking tabs updates content; Search filters all active views; Cards have hover effects.
    -->
    <!-- Visualization & Content Choices:
         - Doughnut Chart: To visualize the composition of the glossary (Inform/Context).
         - Interactive Cards: For definitions (Law/Geography), allowing clear reading.
         - Vertical Timeline (HTML/Tailwind): For history, to show chronological progression clearly without SVG.
         - Grouped Lists: For Name Changes, to allow easy comparison between countries.
         - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-[#0f4c81] rounded-lg flex items-center justify-center text-white text-xl shadow-md">
                        <i class="fas fa-book-atlas"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-gray-900">독도 지식 백과</h1>
                        <p class="text-xs text-gray-500">역사적 지표와 국제법 용어 사전</p>
                    </div>
                </div>
                
                <!-- Right Side: Home Button & Search -->
                <div class="flex flex-col md:flex-row items-center gap-3 w-full md:w-auto">
                    <!-- Home Button -->
                    <a href="index.html" class="flex items-center gap-2 px-4 py-2 rounded-lg text-gray-600 bg-gray-50 hover:bg-blue-50 hover:text-[#0f4c81] border border-gray-200 hover:border-[#0f4c81] transition-all duration-200 whitespace-nowrap w-full md:w-auto justify-center text-sm font-medium">
                        <i class="fas fa-home"></i>
                        <span>홈으로</span>
                    </a>

                    <!-- Search -->
                    <div class="relative w-full md:w-80">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i class="fas fa-search text-gray-400"></i>
                        </div>
                        <input type="text" id="searchInput" 
                            class="block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:bg-white focus:ring-1 focus:ring-[#0f4c81] focus:border-[#0f4c81] sm:text-sm transition duration-150 ease-in-out" 
                            placeholder="용어, 연도, 내용 검색...">
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full space-y-8">

        <!-- Intro & Overview Section -->
        <section class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="md:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                <h2 class="text-lg font-bold text-gray-800 mb-3 flex items-center gap-2">
                    <i class="fas fa-info-circle text-[#0f4c81]"></i> 애플리케이션 소개
                </h2>
                <p class="text-gray-600 mb-4 leading-relaxed">
                    본 애플리케이션은 독도 영유권과 관련된 <strong>지리·국제법 용어</strong>, <strong>시대별 지명 변천사</strong>, 그리고 <strong>주요 역사적 문헌 및 사건</strong>을 체계적으로 정리한 인터랙티브 용어 사전입니다. 
                    각 탭을 선택하여 관련 정보를 탐색하고, 검색 기능을 통해 필요한 지식을 빠르게 찾아보세요.
                </p>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6">
                    <div class="bg-[#f0f9ff] p-4 rounded-lg text-center border border-[#e0f2fe]">
                        <span class="block text-2xl font-bold text-[#0f4c81]" id="stat-law">0</span>
                        <span class="text-xs text-gray-500 font-medium">지리/국제법 용어</span>
                    </div>
                    <div class="bg-[#fff1f2] p-4 rounded-lg text-center border border-[#ffe4e6]">
                        <span class="block text-2xl font-bold text-[#be123c]" id="stat-names">0</span>
                        <span class="text-xs text-gray-500 font-medium">지명 변천</span>
                    </div>
                    <div class="bg-[#f0fdf4] p-4 rounded-lg text-center border border-[#dcfce7]">
                        <span class="block text-2xl font-bold text-[#15803d]" id="stat-history">0</span>
                        <span class="text-xs text-gray-500 font-medium">역사적 사건/문서</span>
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col items-center justify-center">
                <h3 class="text-sm font-bold text-gray-500 mb-4 w-full text-left">카테고리별 데이터 분포</h3>
                <div class="chart-container">
                    <canvas id="categoryChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Navigation Tabs -->
        <div class="border-b border-gray-200">
            <nav class="-mb-px flex space-x-4 md:space-x-8 overflow-x-auto scrollbar-hide" aria-label="Tabs">
                <button onclick="switchTab('law')" id="tab-law" class="tab-btn active-tab whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2">
                    <i class="fas fa-globe-asia"></i> 지리 및 국제법
                </button>
                <button onclick="switchTab('names')" id="tab-names" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300 flex items-center gap-2">
                    <i class="fas fa-signature"></i> 지명 변천사
                </button>
                <button onclick="switchTab('history')" id="tab-history" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300 flex items-center gap-2">
                    <i class="fas fa-history"></i> 역사적 기록
                </button>
            </nav>
        </div>

        <!-- Content Views -->
        <div id="content-area" class="min-h-[400px]">
            <!-- Dynamic Content Injected Here -->
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-300 py-8 mt-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="font-medium mb-2">독도 지식 백과 (Dokdo Glossary Archive)</p>
            <p class="text-xs text-gray-500">제공된 원본 소스 데이터를 기반으로 생성되었습니다.</p>
        </div>
    </footer>

    <!-- JavaScript Application Logic -->
    <script>
        // --- DATA STORE ---
        const glossaryData = {
            law: [
                { term: "영토 (Territory)", def: "국가의 주권이 미치는 지표상의 범위로, 독도는 역사적·지리적·국제법적으로 명백한 대한민국의 영토임.", source: "[1]" },
                { term: "영해 (Territorial Sea)", def: "해안선(기선)으로부터 12해리(약 22km) 이내의 바다. 국가의 통치권이 미침.", source: "[1], [2]" },
                { term: "배타적 경제수역 (EEZ)", def: "영해 기선에서 200해리(약 370km)까지의 수역. 연안국이 해양 자원의 탐사, 개발, 보존에 대한 독점적 권리를 가짐.", source: "[1], [3]" },
                { term: "한일 중간수역", def: "1998년 신한일 어업협정 체결 당시, 양국의 EEZ가 중첩되어 설정된 수역. 독도가 이 수역에 포함되어 영유권 논란의 빌미가 됨.", source: "[3], [4]" },
                { term: "평화선 (이승만 라인)", def: "1952년(자료상 1951년 선포) 한국 정부가 선포한 인접 해양 주권 선언. 독도 인근 수역을 포함하며 일본 어선의 침범을 막는 경계선 역할을 함.", source: "[5]" },
                { term: "가스 하이드레이트", def: "독도 주변 해역에 매장된 천연가스와 물이 결합한 고체 에너지원. 일명 '불타는 얼음'으로 불리며 약 6억 톤이 매장된 것으로 추정됨.", source: "[6]" },
                { term: "해산 (Seamount)", def: "바다 밑에서 솟아오른 산. 독도와 울릉도는 해산의 형태로 서로 연결되어 있으며 지질적(조면암)으로 유사함.", source: "[7]" }
            ],
            names: [
                { country: "한국", name: "우산도 (于山島)", desc: "삼국시대 우산국에서 유래한 독도의 옛 지명.", source: "[8]" },
                { country: "한국", name: "석도 (石島)", desc: "1900년 칙령 제41호에서 사용된 명칭. 돌섬(독섬)을 한자로 표기한 것.", source: "[8], [1]" },
                { country: "한국", name: "가지도 (可支島)", desc: "독도에 강치(가지어)가 많이 산다고 하여 붙여진 이름.", source: "[8]" },
                { country: "일본(과거)", name: "송도 (마쓰시마)", desc: "에도 시대 일본이 독도를 부르던 명칭. (당시 울릉도는 '죽도'라 불림)", source: "[9], [2]" },
                { country: "일본(현대)", name: "죽도 (다케시마)", desc: "1905년 시마네현 고시 이후 일본이 독도를 불법 편입하며 공식적으로 사용하는 명칭. (과거에는 울릉도를 지칭하던 이름임)", source: "[9], [10]" },
                { country: "서양", name: "리앙쿠르 암", desc: "1849년 프랑스 포경선 리앙쿠르호가 독도를 발견하고 붙인 이름.", source: "[9]" },
                { country: "서양", name: "아르고노트", desc: "영국이 울릉도를 발견하고 붙인 이름이나, 위치 측정 오류로 지도상에 울릉도와 별개의 섬처럼 표기되어 혼란을 줌.", source: "[9]" }
            ],
            history: [
                { year: "1667", title: "은주시청합기", desc: "일본의 고문헌. 오키섬을 일본의 서북쪽 경계로 명시하여 독도가 일본 땅이 아님을 스스로 인정함.", source: "[2]" },
                { year: "1696", title: "안용복 사건", desc: "안용복이 일본에 건너가 울릉도와 독도가 조선 땅임을 확인받고 온 사건. 이후 일본 막부는 '울릉도 도해 금지령'을 내림.", source: "[11], [12]" },
                { year: "1877", title: "태정관 지령", desc: "메이지 시대 일본 최고 행정기관인 태정관이 '울릉도와 독도는 일본과 관계없다'고 내무성에 내린 공식 지령.", source: "[13], [10]" },
                { year: "1900", title: "대한제국 칙령 제41호", desc: "고종 황제가 울릉도를 울도군으로 승격시키고, 관할 구역에 '석도(독도)'를 명시하여 영유권을 법적으로 확립한 문서.", source: "[1]" },
                { year: "1905", title: "시마네현 고시 제40호", desc: "러일전쟁 중 일본이 독도를 주인 없는 땅이라 주장하며 불법적으로 시마네현에 편입시킨 고시.", source: "[10], [14]" },
                { year: "1946", title: "SCAPIN 제677호", desc: "연합군 최고사령관 지령. 독도를 일본의 통치 구역에서 제외하고 한국 영토로 인정한 문서.", source: "[15]" },
                { year: "1951", title: "샌프란시스코 강화조약", desc: "일본과 연합국 간의 평화 조약. 일본의 로비로 독도 명칭이 누락되어 이후 영유권 분쟁의 씨앗이 됨. (초안에는 한국 땅으로 명시됨)", source: "[16], [5]" }
            ]
        };

        let currentTab = 'law';
        let searchQuery = '';

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            updateStats();
            renderChart();
            renderContent();
            
            // Search Listener
            document.getElementById('searchInput').addEventListener('input', (e) => {
                searchQuery = e.target.value.toLowerCase();
                renderContent();
            });
        });

        // --- FUNCTIONS ---

        function updateStats() {
            document.getElementById('stat-law').innerText = glossaryData.law.length;
            document.getElementById('stat-names').innerText = glossaryData.names.length;
            document.getElementById('stat-history').innerText = glossaryData.history.length;
        }

        function switchTab(tab) {
            currentTab = tab;
            
            // Update UI Styles
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('border-[#0f4c81]', 'text-[#0f4c81]');
                btn.classList.add('border-transparent', 'text-gray-500');
            });
            const activeBtn = document.getElementById(`tab-${tab}`);
            activeBtn.classList.remove('border-transparent', 'text-gray-500');
            activeBtn.classList.add('border-[#0f4c81]', 'text-[#0f4c81]');

            renderContent();
        }

        function filterData(data, keys) {
            if (!searchQuery) return data;
            return data.filter(item => {
                return keys.some(key => String(item[key]).toLowerCase().includes(searchQuery));
            });
        }

        function renderContent() {
            const container = document.getElementById('content-area');
            container.innerHTML = '';

            let contentHTML = '';

            if (currentTab === 'law') {
                // RENDER LAW GRID
                const data = filterData(glossaryData.law, ['term', 'def']);
                
                contentHTML += `
                    <div class="mb-4">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">지리 및 국제법 관련 용어</h3>
                        <p class="text-gray-600 mb-6">독도의 위치, 자연환경, 그리고 한일 간 갈등의 핵심이 되는 주요 법률적 개념입니다.</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">`;
                
                if (data.length === 0) contentHTML += `<p class="col-span-3 text-center text-gray-500 py-10">검색 결과가 없습니다.</p>`;

                data.forEach(item => {
                    contentHTML += `
                        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 card-hover flex flex-col h-full">
                            <h4 class="text-lg font-bold text-[#0f4c81] mb-3 border-b border-gray-100 pb-2">${highlight(item.term)}</h4>
                            <p class="text-gray-600 text-sm leading-relaxed flex-grow">${highlight(item.def)}</p>
                            <div class="mt-4 pt-3 flex justify-end">
                                <span class="text-xs text-gray-400 bg-gray-50 px-2 py-1 rounded">Ref ${item.source}</span>
                            </div>
                        </div>
                    `;
                });
                contentHTML += `</div>`;

            } else if (currentTab === 'names') {
                // RENDER NAMES LIST
                const data = filterData(glossaryData.names, ['country', 'name', 'desc']);
                
                contentHTML += `
                    <div class="mb-4">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">시대별/국가별 지명 변천사</h3>
                        <p class="text-gray-600 mb-6">시대와 주체에 따라 다르게 불렸던 독도의 명칭을 비교합니다. 일본의 명칭 혼동은 초기 인지 부족을 시사합니다.</p>
                    </div>
                    <div class="space-y-4">`;

                if (data.length === 0) contentHTML += `<p class="text-center text-gray-500 py-10">검색 결과가 없습니다.</p>`;

                data.forEach(item => {
                    let badgeColor = 'bg-gray-100 text-gray-600';
                    if (item.country.includes('한국')) badgeColor = 'bg-blue-100 text-blue-800';
                    else if (item.country.includes('일본')) badgeColor = 'bg-red-100 text-red-800';
                    else if (item.country.includes('서양')) badgeColor = 'bg-green-100 text-green-800';

                    contentHTML += `
                        <div class="bg-white rounded-lg shadow-sm border border-gray-100 p-5 card-hover flex flex-col md:flex-row gap-4 items-start md:items-center">
                            <div class="md:w-32 flex-shrink-0">
                                <span class="px-3 py-1 rounded-full text-xs font-bold ${badgeColor}">${item.country}</span>
                            </div>
                            <div class="flex-grow">
                                <h4 class="text-lg font-bold text-gray-800 mb-1">${highlight(item.name)}</h4>
                                <p class="text-sm text-gray-600">${highlight(item.desc)}</p>
                            </div>
                            <div class="md:w-20 flex-shrink-0 text-right">
                                <span class="text-xs text-gray-400">Ref ${item.source}</span>
                            </div>
                        </div>
                    `;
                });
                contentHTML += `</div>`;

            } else if (currentTab === 'history') {
                // RENDER HISTORY TIMELINE
                const data = filterData(glossaryData.history, ['year', 'title', 'desc']);

                contentHTML += `
                    <div class="mb-4">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">주요 역사적 문서 및 사건</h3>
                        <p class="text-gray-600 mb-6">한일 양국의 영유권 인식과 관련된 결정적인 문서와 사건들의 연대기입니다.</p>
                    </div>
                    <div class="relative timeline-line pl-2 space-y-8">`;

                if (data.length === 0) contentHTML += `<p class="pl-10 text-gray-500 py-10">검색 결과가 없습니다.</p>`;

                data.forEach(item => {
                    contentHTML += `
                        <div class="relative pl-10 group">
                            <!-- Dot -->
                            <div class="absolute left-[13px] top-2 w-4 h-4 rounded-full border-4 border-white bg-[#0f4c81] shadow-sm z-10 group-hover:scale-110 transition-transform"></div>
                            
                            <!-- Card -->
                            <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-5 card-hover">
                                <div class="flex flex-col sm:flex-row sm:items-baseline gap-2 mb-2">
                                    <span class="text-xl font-bold text-[#0f4c81] font-mono">${highlight(item.year)}</span>
                                    <h4 class="text-lg font-bold text-gray-900">${highlight(item.title)}</h4>
                                </div>
                                <p class="text-gray-600 leading-relaxed text-sm">${highlight(item.desc)}</p>
                                <div class="mt-3 text-right">
                                    <span class="text-xs text-gray-400 bg-gray-50 px-2 py-1 rounded">관련 출처: ${item.source}</span>
                                </div>
                            </div>
                        </div>
                    `;
                });
                contentHTML += `</div>`;
            }

            container.innerHTML = contentHTML;
        }

        function highlight(text) {
            if (!searchQuery) return text;
            const regex = new RegExp(`(${searchQuery})`, 'gi');
            return text.replace(regex, '<span class="bg-yellow-200 text-gray-900 px-0.5 rounded">$1</span>');
        }

        function renderChart() {
            const ctx = document.getElementById('categoryChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['지리/법률', '지명 변천', '역사 기록'],
                    datasets: [{
                        data: [glossaryData.law.length, glossaryData.names.length, glossaryData.history.length],
                        backgroundColor: [
                            '#0f4c81', // Blue (Main)
                            '#be123c', // Red (Contrast)
                            '#15803d'  // Green (Earth)
                        ],
                        borderWidth: 0,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                usePointStyle: true,
                                padding: 20,
                                font: {
                                    family: "'Noto Sans KR', sans-serif",
                                    size: 11
                                }
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(15, 76, 129, 0.9)',
                            padding: 10,
                            bodyFont: { family: "'Noto Sans KR', sans-serif" }
                        }
                    },
                    cutout: '70%'
                }
            });
        }
    </script>
</body>
</html>
